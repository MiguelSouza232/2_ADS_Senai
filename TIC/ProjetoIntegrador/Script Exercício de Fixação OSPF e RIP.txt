enable
conf t
hostname R5
int serial 0/1/0
ip add 10.0.0.1 255.255.255.252
no shut
int gi 0/0/0
ip add 192.168.0.1 255.255.255.0
no shut
exit
route ospf 74
network 10.0.0.0 0.0.0.3 area 74
network 192.168.0.0 0.0.0.255 area 74
exit
ip dhcp excluded-address 192.168.0.0 192.168.0.10
ip dhcp pool REDEA
default-router 192.168.0.1
domain-name REDEA
network 192.168.0.0 255.255.255.0
exit

enable
conf t
hostname R1
int serial 0/1/0
ip add 10.0.0.2 255.255.255.252
no shut
int serial 0/1/1
ip add 20.0.0.1 255.255.255.252 
no shut
int serial 0/2/0
ip add 20.0.0.5 255.255.255.252
no shut
exit
route ospf 10
network 10.0.0.0 0.0.0.3 area 74
network 20.0.0.0 0.0.0.3 area 0
network 20.0.0.4 0.0.0.3 area 0

enable
conf t
hostname R2
int serial 0/2/1
ip add 20.0.0.9 255.255.255.252 
no shut
int serial 0/2/0
ip add 20.0.0.6 255.255.255.252
no shut
exit
route ospf 10
network 20.0.0.4 0.0.0.3 area 0
network 20.0.0.8 0.0.0.3 area 0

enable
conf t
hostname R3
int serial 0/1/1
ip add 20.0.0.2 255.255.255.252  
no shut
int serial 0/1/0
ip add 20.0.0.13 255.255.255.252
no shut
exit
route ospf 10
network 20.0.0.0 0.0.0.3 area 0
network 20.0.0.12 0.0.0.3 area 0


enable
conf t
hostname R4
int serial 0/2/0
ip add 30.0.0.2 255.255.255.252
no shut
int serial 0/2/1
ip add 20.0.0.10 255.255.255.252  
no shut
int serial 0/1/0
ip add 20.0.0.14 255.255.255.252
no shut
int gi 0/0/1
ip add 40.0.0.2 255.255.255.252
no shut
exit
route ospf 10
network 30.0.0.0 0.0.0.3 area 51
network 20.0.0.12 0.0.0.3 area 0
network 20.0.0.8 0.0.0.3 area 0
network 40.0.0.0 0.0.0.3 area 60


enable
conf t
hostname R6
int serial 0/2/0
ip add 30.0.0.1 255.255.255.252
no shut
int gi 0/0/0
ip add 172.16.51.1 255.255.255.0
no shut
exit
route ospf 51
network 30.0.0.0 0.0.0.3 area 51
network 172.16.51.0 0.0.0.255 area 51
exit
ip dhcp excluded-address 172.16.51.0 172.16.51.10
ip dhcp pool REDEB
default-router 172.16.51.1
domain-name REDEB
network 172.16.51.0 255.255.255.0
exit

enable
conf t
hostname R7
interface gi 0/0/1
ip add 40.0.0.1 255.255.255.252
no shut
int gi 0/0/0
no shut
exit
int gi 0/0/0.10
encapsulation dot1Q 10
ip add 172.16.61.1 255.255.255.0
exit
int gi 0/0/0.20
encapsulation dot1Q 20
ip add 172.16.62.1 255.255.255.0
exit 
ip dhcp excluded-address 172.16.61.0 172.16.61.10
ip dhcp excluded-address 172.16.62.0 172.16.62.10
ip dhcp pool VL10
default-router 172.16.61.1
domain-name VL10
network 172.16.61.0 255.255.255.0
exit
ip dhcp pool VL20
default-router 172.16.62.1
domain-name VL20
network 172.16.62.0 255.255.255.0
exit
router ospf 60
network 172.16.61.0 0.0.0.255 area 60
network 172.16.62.0 0.0.0.255 area 60
network 40.0.0.0 0.0.0.3 area 60


enable
conf t
hostname SW1
vlan 10
vlan 20
exit
vtp mode server
vtp domain teste
vtp password teste
int range gi 0/1-2
sw mode trunk
sw trunk allowed vlan all
int range fa 0/1-24
sw mode access
sw ac vlan 10

enable
conf t
hostname SW2
vtp mode client
vtp domain teste
vtp password teste
int range gi 0/1-2
sw mode trunk
sw trunk allowed vlan all
int range fa 0/1-24
sw mode access
sw ac vlan 20